# リトルベビーカレンダー 最新画面遷移図（Today画面・複数プロフィール対応版）

## 全体フロー（初回起動 → 通常起動）

```
[初回起動]
    ▼
[S-01 初回セットアップ]
    ・名前
    ・出生日（必須）
    ・出産予定日（任意）
    ・修正月齢表示上限
    ・年齢表示形式
    ・生後日数表示 ON/OFF
    保存
    ▼
[S-02 Today画面（新規）]  ← 新トップ画面
```

```
[通常起動]
    ▼
[S-02 Today画面]
```

---

## 画面遷移図（詳細）

```
┌──────────────────────────┐
│ S-01 初回セットアップ（強化版）                         │
│  - DatePicker を用いた迷わない入力                     │
│  - 保存時にプロフィール(User)を生成し activeUser に設定 │
└───────────────┬───────────────┘
                    ▼
┌──────────────────────────┐
│ S-02 Today画面（新トップ）                               │
│  - 今日の実/修月齢                                       │
│  - 生後日数（設定ON時）                                  │
│  - 今日の最新記録表示                                     │
│  - 「記録する」：今日で S-04 を開く                      │
│  - 「カレンダーを見る」：S-03 へ                         │
│  - 「記録一覧」：S-05 へ                                 │
│  - プロフィール切替ボタン → S-01B へ                    │
│  - メニュー → 設定（S-06）                               │
└─────┬───────────┬──────────┬────────┘
        │               │            │
        ▼               ▼            ▼
┌───────────────────┐   ┌──────────────────┐   ┌────────────────────┐
│ S-03 カレンダー画面 │   │ S-05 記録一覧画面 │   │ S-06 設定画面         │
│  - 月移動／今日へ   │   │  - フィルタ       │   │  - 表示設定変更       │
│  - 実/修表示        │   │  - 日付降順       │   │  - プロフィール管理へ │
│  - 記録点「●」       │   │  - 行タップ→S-04 │   │    （S-01B）          │
└─────┬───────────┘   └─────────┬────────┘   └────────────┬─────────┘
        │                                   │                             │
        ▼                                   ▼                             ▼
┌──────────────────────────┐     ┌──────────────────────────┐
│ S-04 日付詳細シート（モーダル）                           │     │ S-01B プロフィール管理画面（新規）           │
│  - 対象日の実/修/月齢等                                   │     │  - 複数Userの追加／編集／削除                 │
│  - 記録一覧（その日のみ）                                 │     │  - activeUser の切替                          │
│  - ＋記録する／編集／削除                                 │     │  - Today / Calendar / 設定へ戻る               │
└──────────────────────────┘     └──────────────────────────┘
```

---

## 補足：各画面の役割を遷移と紐づけて整理

### ● S-01 初回セットアップ
- 必ず一度だけ開く  
- プロフィール（User）を生成する  
- 保存後は **Today 画面へ遷移**

### ● S-02 Today画面（アプリの新トップ）
- 実月齢／修正月齢を最短距離で確認  
- 今日の記録へ即アクセス  
- すべての主要画面のハブになる

### ● S-01B プロフィール管理
- multiple user の根幹機能  
- activeUser 切替により、全 UI が該当ユーザーを反映

### ● S-03 カレンダー画面
- 従来どおり月齢の視覚化  
- Today 画面の下位に位置づけられる  
- 日付タップ → S-04

### ● S-04 日付詳細シート
- その日の成長記録を追加/編集/削除  
- 実/修・日齢を確認できる

### ● S-05 記録一覧
- すべての記録を日付横断で振り返る  
- 行タップ → S-04

### ● S-06 設定画面
- 年齢表示／上限／日齢表示の切替  
- プロフィール管理（S-01B）への導線

---

# 4. 最新フロー（簡易テキスト版）

```
初回起動
  → S-01 セットアップ
  → S-02 Today
      → カレンダー S-03
          → 詳細 S-04
      → 記録一覧 S-05
      → 設定 S-06
          → プロフィール管理 S-01B
      → 今日の記録する → S-04（今日）
```

