あなたは React Native + Expo + TypeScript を使うモバイルアプリ開発担当です。

## やりたいこと（プロジェクト概要）

「リトルベビーカレンダー」という、早産などで生まれた赤ちゃん向けの  
**修正月齢カレンダーアプリ**を作りたい。

すでに以下の3つの仕様書があります：

- `requirements.md` … 機能要求・非機能要求・受け入れ条件
- `screens.md` … 画面一覧・画面遷移・各画面の役割
- `data-model.md` … 永続データ構造（UserSettings / Achievement）とViewModel構造

これらを仕様として守りながら、Expo アプリのコードを段階的に実装してください。

---

## 技術スタックと制約

- フレームワーク：React Native（Expo）
- 言語：TypeScript
- 状態管理：React Hooks（useState / useEffect / useMemo など）のみ  
  - Redux や MobX など外部状態管理ライブラリは使わない
- ルーティング：
  - MVP段階では「カレンダー画面（S-02）」を起点とし、
  - 設定画面（S-05）・一覧画面（S-04）にも遷移できる構成にする
  - Expo Router や React Navigation を使う場合は最小構成でよいが、過剰に複雑にしないこと
- 永続化：AsyncStorage（`@react-native-async-storage/async-storage`）を利用
- デザイン：
  - 見た目よりロジックの正確性を優先
  - UIはシンプルでよい（スタイルは最低限）

---

## 実装するアプリの範囲（MVPスコープ）

仕様書で定義されているうち、まず次を実装対象とします。

1. **年齢計算ロジック**
   - `requirements.md` の「3. 年齢計算ロジック（厳守仕様）」と
     `data-model.md` の `AgeInfo` を満たす実装
   - 実月齢・修正月齢・生後日数の計算（UTC正規化を含む）

2. **データモデルと永続化**
   - `UserSettings`（出生日 / 出産予定日 / 表示上限 / 表示形式 / 生後日数表示ON/OFF / lastViewedMonth）
   - `Achievement` / `AchievementStore`
   - AsyncStorage を使った保存・読み込み

3. **画面構成（最低限）**
   - S-02：カレンダー画面  
     - 月カレンダー表示（実月齢 / 修正月齢のテキスト表示）  
     - 「●」による「できた・頑張った」記録有無の表示  
     - 日付セルタップ → 日付詳細シート（S-03）表示
   - S-03：日付詳細シート（モーダル / ボトムシート扱い）  
     - 対象日の実月齢・修正月齢・生後日数（設定ON時）  
     - その日の Achievement 一覧  
     - 「＋記録する」から Achievement 追加・編集・削除
   - S-04：できた・頑張った一覧  
     - 全記録を日付降順で一覧表示  
     - フィルタ（すべて / できた / 頑張った）  
     - 行タップでその日の S-03 を開く
   - S-05：設定画面  
     - UserSettings の編集（出産予定日 / 表示上限 / 表示形式 / 生後日数表示 ON/OFF）

4. **注意書き表示**
   - カレンダー画面のフッターに、仕様通りの注意書きを表示

---

## ディレクトリ構成の希望（例）

以下は一例なので、合理的であれば多少変えても構いません。

```text
project-root/
  App.tsx
  src/
    screens/
      CalendarScreen.tsx          // S-02
      SettingsScreen.tsx          // S-05
      AchievementListScreen.tsx   // S-04
    components/
      DayDetailSheet.tsx          // S-03（日付詳細モーダル）
      CalendarGrid.tsx
    models/
      dataModels.ts               // UserSettings, Achievement, ViewModel型
    storage/
      storage.ts                  // AsyncStorageラッパ（load/save）
    utils/
      dateUtils.ts                // 年齢計算・UTC正規化など
```

---

## あなたにやってほしいこと

1. **仕様理解の確認**
   - このあと私が貼る `requirements.md` / `screens.md` / `data-model.md` を読んだうえで、
   - それぞれの要点と、あなたが想定する実装ステップを **短く箇条書き** でまとめてください。

2. **実装計画の提示**
   - フェーズ分けして、
     - フェーズ1：年齢計算と UserSettings 永続化
     - フェーズ2：カレンダー画面（S-02）
     - フェーズ3：日付詳細シート（S-03）と Achievement 永続化
     - フェーズ4：一覧画面（S-04）と設定画面（S-05）
   - のように、段階的な実装計画を提案してください。

3. **フェーズ1のコード実装**
   - まずは、以下を TypeScript コードとして実装してください：
     - `src/models/dataModels.ts`  
       - `UserSettings`, `Achievement`, `AchievementStore`, `AgeInfo`, `CalendarDay`, `CalendarMonthView` 型定義
     - `src/utils/dateUtils.ts`  
       - `AgeInfo` を生成するための年齢計算ロジック  
       - UTC正規化（`Date.UTC` 相当）を使った安全な日付差分計算
     - `src/storage/storage.ts`  
       - AsyncStorage を使った `loadUserSettings` / `saveUserSettings`  
       - `loadAchievements` / `saveAchievements`

   - それぞれのファイルは「完全なソースコード」として出力してください。
   - 関数の引数・戻り値の型を明示し、`data-model.md` に沿った形にしてください。
   - ロジックが複雑な箇所には簡潔なコメントを入れてください。

4. **その後のフェーズ**
   - フェーズ1が完了したら、私の合図を待たずにフェーズ2（カレンダー画面）の実装案とコードを続けて提示しても構いませんが、
   - 一度、フェーズ1のコードを出したあとで区切りを入れてください。

---

## 重要：仕様書の扱い方

このあと、私が次の3つを **そのまま貼ります**：

1. `requirements.md`
2. `screens.md`
3. `data-model.md`

これらは「修正してはいけない絶対条件」ではありませんが、  
**基本的にはこの仕様に沿って実装してください。**

仕様と実装がぶつかると思った場合は、

- どの仕様のどの部分が実装上の問題になるか
- どのように仕様を簡略化／修正する案があるか

を、最初に文章で説明してから、実装方針を提案してください。
